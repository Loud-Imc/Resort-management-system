import { PrismaService } from '../prisma/prisma.service';
import { AvailabilityService } from './availability.service';
import { PricingService } from './pricing.service';
import { AuditService } from '../audit/audit.service';
import { CreateBookingDto } from './dto/create-booking.dto';
export declare class BookingsService {
    private prisma;
    private availabilityService;
    private pricingService;
    private auditService;
    constructor(prisma: PrismaService, availabilityService: AvailabilityService, pricingService: PricingService, auditService: AuditService);
    create(createBookingDto: CreateBookingDto, userId: string): Promise<{
        user: {
            id: string;
            email: string;
            firstName: string;
            lastName: string;
        };
        roomType: {
            id: string;
            createdAt: Date;
            name: string;
            updatedAt: Date;
            description: string | null;
            amenities: string[];
            basePrice: import("@prisma/client/runtime/library").Decimal;
            extraAdultPrice: import("@prisma/client/runtime/library").Decimal;
            extraChildPrice: import("@prisma/client/runtime/library").Decimal;
            freeChildrenCount: number;
            maxAdults: number;
            maxChildren: number;
            isPubliclyVisible: boolean;
            images: string[];
        };
        room: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            roomNumber: string;
            floor: number | null;
            roomTypeId: string;
            notes: string | null;
            isEnabled: boolean;
            status: import(".prisma/client").$Enums.RoomStatus;
        };
        guests: {
            id: string;
            createdAt: Date;
            bookingId: string;
            email: string | null;
            firstName: string;
            lastName: string;
            phone: string | null;
            age: number | null;
            idType: string | null;
            idNumber: string | null;
        }[];
    } & {
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    }>;
    findAll(filters?: {
        status?: string;
        checkInDate?: Date;
        checkOutDate?: Date;
        roomTypeId?: string;
    }): Promise<({
        user: {
            id: string;
            email: string;
            firstName: string;
            lastName: string;
        };
        roomType: {
            id: string;
            createdAt: Date;
            name: string;
            updatedAt: Date;
            description: string | null;
            amenities: string[];
            basePrice: import("@prisma/client/runtime/library").Decimal;
            extraAdultPrice: import("@prisma/client/runtime/library").Decimal;
            extraChildPrice: import("@prisma/client/runtime/library").Decimal;
            freeChildrenCount: number;
            maxAdults: number;
            maxChildren: number;
            isPubliclyVisible: boolean;
            images: string[];
        };
        room: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            roomNumber: string;
            floor: number | null;
            roomTypeId: string;
            notes: string | null;
            isEnabled: boolean;
            status: import(".prisma/client").$Enums.RoomStatus;
        };
        bookingSource: {
            id: string;
            createdAt: Date;
            name: string;
            isActive: boolean;
            updatedAt: Date;
            description: string | null;
            commission: import("@prisma/client/runtime/library").Decimal | null;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    })[]>;
    findOne(id: string): Promise<{
        user: {
            id: string;
            email: string;
            firstName: string;
            lastName: string;
        };
        roomType: {
            id: string;
            createdAt: Date;
            name: string;
            updatedAt: Date;
            description: string | null;
            amenities: string[];
            basePrice: import("@prisma/client/runtime/library").Decimal;
            extraAdultPrice: import("@prisma/client/runtime/library").Decimal;
            extraChildPrice: import("@prisma/client/runtime/library").Decimal;
            freeChildrenCount: number;
            maxAdults: number;
            maxChildren: number;
            isPubliclyVisible: boolean;
            images: string[];
        };
        room: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            roomNumber: string;
            floor: number | null;
            roomTypeId: string;
            notes: string | null;
            isEnabled: boolean;
            status: import(".prisma/client").$Enums.RoomStatus;
        };
        bookingSource: {
            id: string;
            createdAt: Date;
            name: string;
            isActive: boolean;
            updatedAt: Date;
            description: string | null;
            commission: import("@prisma/client/runtime/library").Decimal | null;
        } | null;
        guests: {
            id: string;
            createdAt: Date;
            bookingId: string;
            email: string | null;
            firstName: string;
            lastName: string;
            phone: string | null;
            age: number | null;
            idType: string | null;
            idNumber: string | null;
        }[];
        payments: {
            id: string;
            createdAt: Date;
            bookingId: string;
            updatedAt: Date;
            status: import(".prisma/client").$Enums.PaymentStatus;
            amount: import("@prisma/client/runtime/library").Decimal;
            currency: string;
            razorpayOrderId: string | null;
            razorpayPaymentId: string | null;
            razorpaySignature: string | null;
            paymentMethod: string | null;
            paymentDate: Date | null;
            refundAmount: import("@prisma/client/runtime/library").Decimal | null;
            refundDate: Date | null;
            refundReason: string | null;
        }[];
    } & {
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    }>;
    checkIn(id: string, userId: string): Promise<{
        roomType: {
            id: string;
            createdAt: Date;
            name: string;
            updatedAt: Date;
            description: string | null;
            amenities: string[];
            basePrice: import("@prisma/client/runtime/library").Decimal;
            extraAdultPrice: import("@prisma/client/runtime/library").Decimal;
            extraChildPrice: import("@prisma/client/runtime/library").Decimal;
            freeChildrenCount: number;
            maxAdults: number;
            maxChildren: number;
            isPubliclyVisible: boolean;
            images: string[];
        };
        room: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            roomNumber: string;
            floor: number | null;
            roomTypeId: string;
            notes: string | null;
            isEnabled: boolean;
            status: import(".prisma/client").$Enums.RoomStatus;
        };
        guests: {
            id: string;
            createdAt: Date;
            bookingId: string;
            email: string | null;
            firstName: string;
            lastName: string;
            phone: string | null;
            age: number | null;
            idType: string | null;
            idNumber: string | null;
        }[];
    } & {
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    }>;
    checkOut(id: string, userId: string): Promise<{
        roomType: {
            id: string;
            createdAt: Date;
            name: string;
            updatedAt: Date;
            description: string | null;
            amenities: string[];
            basePrice: import("@prisma/client/runtime/library").Decimal;
            extraAdultPrice: import("@prisma/client/runtime/library").Decimal;
            extraChildPrice: import("@prisma/client/runtime/library").Decimal;
            freeChildrenCount: number;
            maxAdults: number;
            maxChildren: number;
            isPubliclyVisible: boolean;
            images: string[];
        };
        room: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            roomNumber: string;
            floor: number | null;
            roomTypeId: string;
            notes: string | null;
            isEnabled: boolean;
            status: import(".prisma/client").$Enums.RoomStatus;
        };
        guests: {
            id: string;
            createdAt: Date;
            bookingId: string;
            email: string | null;
            firstName: string;
            lastName: string;
            phone: string | null;
            age: number | null;
            idType: string | null;
            idNumber: string | null;
        }[];
    } & {
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    }>;
    cancel(id: string, userId: string, reason?: string): Promise<{
        roomType: {
            id: string;
            createdAt: Date;
            name: string;
            updatedAt: Date;
            description: string | null;
            amenities: string[];
            basePrice: import("@prisma/client/runtime/library").Decimal;
            extraAdultPrice: import("@prisma/client/runtime/library").Decimal;
            extraChildPrice: import("@prisma/client/runtime/library").Decimal;
            freeChildrenCount: number;
            maxAdults: number;
            maxChildren: number;
            isPubliclyVisible: boolean;
            images: string[];
        };
        room: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            roomNumber: string;
            floor: number | null;
            roomTypeId: string;
            notes: string | null;
            isEnabled: boolean;
            status: import(".prisma/client").$Enums.RoomStatus;
        };
        guests: {
            id: string;
            createdAt: Date;
            bookingId: string;
            email: string | null;
            firstName: string;
            lastName: string;
            phone: string | null;
            age: number | null;
            idType: string | null;
            idNumber: string | null;
        }[];
    } & {
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    }>;
    updateStatus(id: string, status: string, userId: string): Promise<{
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    }>;
    getTodayCheckIns(): Promise<({
        user: {
            firstName: string;
            lastName: string;
            phone: string | null;
        };
        roomType: {
            id: string;
            createdAt: Date;
            name: string;
            updatedAt: Date;
            description: string | null;
            amenities: string[];
            basePrice: import("@prisma/client/runtime/library").Decimal;
            extraAdultPrice: import("@prisma/client/runtime/library").Decimal;
            extraChildPrice: import("@prisma/client/runtime/library").Decimal;
            freeChildrenCount: number;
            maxAdults: number;
            maxChildren: number;
            isPubliclyVisible: boolean;
            images: string[];
        };
        room: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            roomNumber: string;
            floor: number | null;
            roomTypeId: string;
            notes: string | null;
            isEnabled: boolean;
            status: import(".prisma/client").$Enums.RoomStatus;
        };
    } & {
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    })[]>;
    getTodayCheckOuts(): Promise<({
        user: {
            firstName: string;
            lastName: string;
            phone: string | null;
        };
        roomType: {
            id: string;
            createdAt: Date;
            name: string;
            updatedAt: Date;
            description: string | null;
            amenities: string[];
            basePrice: import("@prisma/client/runtime/library").Decimal;
            extraAdultPrice: import("@prisma/client/runtime/library").Decimal;
            extraChildPrice: import("@prisma/client/runtime/library").Decimal;
            freeChildrenCount: number;
            maxAdults: number;
            maxChildren: number;
            isPubliclyVisible: boolean;
            images: string[];
        };
        room: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            roomNumber: string;
            floor: number | null;
            roomTypeId: string;
            notes: string | null;
            isEnabled: boolean;
            status: import(".prisma/client").$Enums.RoomStatus;
        };
    } & {
        id: string;
        createdAt: Date;
        userId: string;
        updatedAt: Date;
        roomTypeId: string;
        status: import(".prisma/client").$Enums.BookingStatus;
        checkInDate: Date;
        roomId: string;
        bookingNumber: string;
        checkOutDate: Date;
        numberOfNights: number;
        adultsCount: number;
        childrenCount: number;
        baseAmount: import("@prisma/client/runtime/library").Decimal;
        extraAdultAmount: import("@prisma/client/runtime/library").Decimal;
        extraChildAmount: import("@prisma/client/runtime/library").Decimal;
        taxAmount: import("@prisma/client/runtime/library").Decimal;
        discountAmount: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        isPriceOverridden: boolean;
        overrideReason: string | null;
        specialRequests: string | null;
        isManualBooking: boolean;
        bookingSourceId: string | null;
        agentId: string | null;
        commissionAmount: import("@prisma/client/runtime/library").Decimal;
        couponId: string | null;
        confirmedAt: Date | null;
        checkedInAt: Date | null;
        checkedOutAt: Date | null;
        cancelledAt: Date | null;
    })[]>;
    private generateBookingNumber;
}
